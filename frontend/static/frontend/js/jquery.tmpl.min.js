!function(e,t){var n,l=e.fn.domManip,a="_tmplitem",r={},p={},o={key:0,data:{}},i=0,u=0,s=[],c={sq_escape:/([\\'])/g,sq_unescape:/\\'/g,dq_unescape:/\\\\/g,nl_strip:/[\r\t\n]/g,shortcut_replace:/\$\{([^\}]*)\}/g,lang_parse:/\{\%(\/?)(\w+|.)(?:\(((?:[^\%]|\%(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\%]|\%(?!\}))*?)\))?\s*\%\}/g,old_lang_parse:/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,template_anotate:/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,text_only_template:/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,html_expr:/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! |\{\%! /,last_word:/\w$/};function m(t,n,l,a){var o={data:a||0===a||!1===a?a:n?n.data:{},_wrap:n?n._wrap:null,tmpl:null,parent:n||null,nodes:[],calls:g,nest:w,wrap:v,html:k,update:T};return t&&e.extend(o,t,{nodes:[],parent:n}),l&&(o.tmpl=l,o._ctnt=o._ctnt||e.isFunction(o.tmpl)&&o.tmpl(e,o)||l,o.key=++i,(s.length?p:r)[i]=o),o}function f(t,n,l){var r,p=l?e.map(l,function(e){return"string"==typeof e?t.key?e.replace(c.template_anotate,"$1 "+a+'="'+t.key+'" $2'):e:f(e,t,e._ctnt)}):t;return n?p:((p=p.join("")).replace(c.text_only_template,function(t,n,l,a){y(r=e(l).get()),n&&(r=d(n).concat(r)),a&&(r=r.concat(d(a)))}),r||d(p))}function d(t){var n=document.createElement("div");return n.innerHTML=t,e.makeArray(n.childNodes)}function _(t){var n=function(n,l,a,r,p,o,i){if(!a)return"');__.push('";var u,s,m,f=e.tmpl.tag[a];return!f&&window.console&&console.group&&(console.group("Exception"),console.error(t),console.error("Unknown tag: ",a),console.error(n),console.groupEnd("Exception")),f?(u=f._default||[],o&&!c.last_word.test(p)&&(p+=o,o=""),p?(p=$(p),i=i?","+$(i)+")":o?")":"",s=o?p.indexOf(".")>-1?p+$(o):"("+p+").call($item"+i:p,m=o?s:"(typeof("+p+")==='function'?("+p+").call($item):("+p+"))"):m=s=u.$1||"null",r=$(r),"');"+f[l?"close":"open"].split("$notnull_1").join(p?"typeof("+p+")!=='undefined' && ("+p+")!=null":"true").split("$1a").join(m).split("$1").join(s).split("$2").join(r||u.$2||"")+"__.push('"):"');__.push('"},l="var $=$,call,__=[],$data=$item.data; with($data){__.push('",a=e.trim(t);return l+=a=(a=(a=(a=(a=a.replace(c.sq_escape,"\\$1")).replace(c.nl_strip," ")).replace(c.shortcut_replace,"{%= $1%}")).replace(c.lang_parse,n)).replace(c.old_lang_parse,function(){return e.tmpl.tag[arguments[2]]?n.apply(this,arguments):"');__.push('{{"+arguments[2]+"}}');__.push('"}),l+="');}return __;",new Function("$","$item",l)}function h(t,n){t._wrap=f(t,!0,e.isArray(n)?n:[c.html_expr.test(n)?n:e(n).html()]).join("")}function $(e){return e?e.replace(c.sq_unescape,"'").replace(c.dq_unescape,"\\"):null}function y(t){var n,l,o,s,c,f="_"+u,d={};for(o=0,s=t.length;o<s;o++)if(1===(n=t[o]).nodeType){for(c=(l=n.getElementsByTagName("*")).length-1;c>=0;c--)_(l[c]);_(n)}function _(t){var n,l,o,s,c=t;if(s=t.getAttribute(a)){for(;c.parentNode&&1===(c=c.parentNode).nodeType&&!(n=c.getAttribute(a)););n!==s&&(c=c.parentNode?11===c.nodeType?0:c.getAttribute(a)||0:0,(o=r[s])||((o=m(o=p[s],r[c]||p[c])).key=++i,r[i]=o),u&&_(s)),t.removeAttribute(a)}else u&&(o=e.data(t,"tmplItem"))&&(_(o.key),r[o.key]=o,c=(c=e.data(t.parentNode,"tmplItem"))?c.key:0);if(o){for(l=o;l&&l.key!=c;)l.nodes.push(t),l=l.parent;delete o._ctnt,delete o._wrap,e.data(t,"tmplItem",o)}function _(e){o=d[e+=f]=d[e]||m(o,r[o.parent.key+f]||o.parent)}}}function g(e,t,n,l){if(!e)return s.pop();s.push({_:e,tmpl:t,item:this,data:n,options:l})}function w(t,n,l){return e.tmpl(e.template(t),n,l,this)}function v(t,n){var l=t.options||{};return l.wrapped=n,e.tmpl(e.template(t.tmpl),t.data,l,t.item)}function k(t,n){var l=this._wrap;return e.map(e(e.isArray(l)?l.join(""):l).filter(t||"*"),function(e){return n?e.innerText||e.textContent:e.outerHTML||(t=e,(l=document.createElement("div")).appendChild(t.cloneNode(!0)),l.innerHTML);var t,l})}function T(){var t=this.nodes;e.tmpl(null,null,null,this).insertBefore(t[0]),e(t).remove()}e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,l){e.fn[t]=function(a){var p,o,i,s,c=[],m=e(a),f=1===this.length&&this[0].parentNode;if(n=r||{},f&&11===f.nodeType&&1===f.childNodes.length&&1===m.length)m[l](this[0]),c=this;else{for(o=0,i=m.length;o<i;o++)u=o,p=(o>0?this.clone(!0):this).get(),e(m[o])[l](p),c=c.concat(p);u=0,c=this.pushStack(c,t,m.selector)}return s=n,n=null,e.tmpl.complete(s),c}}),e.fn.extend({tmpl:function(t,n,l){return e.tmpl(this[0],t,n,l)},tmplItem:function(){return e.tmplItem(this[0])},template:function(t){return e.template(t,this[0])},domManip:function(t,a,p,o){if(t[0]&&e.isArray(t[0])){for(var i,s=e.makeArray(arguments),c=t[0],m=c.length,f=0;f<m&&!(i=e.data(c[f++],"tmplItem")););i&&u&&(s[2]=function(t){e.tmpl.afterManip(this,t,p)}),l.apply(this,s)}else l.apply(this,arguments);return u=0,n||e.tmpl.complete(r),this}}),e.extend({tmpl:function(t,n,l,a){var i,u=!a;if(u)a=o,t=e.template[t]||e.template(null,t),p={};else if(!t)return t=a.tmpl,r[a.key]=a,a.nodes=[],a.wrapped&&h(a,a.wrapped),e(f(a,null,a.tmpl(e,a)));return t?("function"==typeof n&&(n=n.call(a||{})),l&&l.wrapped&&h(l,l.wrapped),i=e.isArray(n)?e.map(n,function(e){return e?m(l,a,t,e):null}):[m(l,a,t,n)],u?e(f(a,null,i)):i):[]},tmplItem:function(t){var n;for(t instanceof e&&(t=t[0]);t&&1===t.nodeType&&!(n=e.data(t,"tmplItem"))&&(t=t.parentNode););return n||o},template:function(t,n){return n?("string"==typeof n?n=_(n):n instanceof e&&(n=n[0]||{}),n.nodeType&&(n=e.data(n,"tmpl")||e.data(n,"tmpl",_(n.innerHTML))),"string"==typeof t?e.template[t]=n:n):t?"string"!=typeof t?e.template(null,t):e.template[t]||e.template(null,t):null},encode:function(e){return(""+e).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),e.extend(e.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},if:{open:"if(($notnull_1) && $1a){",close:"}"},else:{open:"}else{"},elif:{open:"}else if(($notnull_1) && $1a){"},elseif:{open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(e){r={}},afterManip:function(t,n,l){var a=11===n.nodeType?e.makeArray(n.childNodes):1===n.nodeType?[n]:[];l.call(t,n),y(a),u++}})}(jQuery);